(this["webpackJsonpred-blue-connected-graph"]=this["webpackJsonpred-blue-connected-graph"]||[]).push([[0],{40:function(t,e,n){},41:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),i=n(24),c=n.n(i),o=(n(40),n(41),n(8)),u=n(4),s=n(3),d=n(13),l=n(19),h=n(20),f=function(){function t(e,n){Object(l.a)(this,t),this.data=void 0,this.color=void 0,this.adjacent=void 0,this.data=e,this.adjacent=[],this.color=n}return Object(h.a)(t,[{key:"addAdjacent",value:function(t){this.adjacent.push(t)}}]),t}(),j=function(){function t(){Object(l.a)(this,t),this.nodes=new Map,this.nextColor="RED",this._isRedBlue=!0}return Object(h.a)(t,[{key:"addNode",value:function(t){var e=this.nodes.get(t);return e||(e=new f(t,this.nextColor),this.nextColor="RED"===this.nextColor?"BLUE":"RED",this.nodes.set(t,e),e)}},{key:"addEdge",value:function(t,e){var n=this.addNode(t),a=this.addNode(e);n.addAdjacent(a),a.addAdjacent(n),n.color===a.color&&(this._isRedBlue=!1)}},{key:"getNodes",value:function(){return Object(u.cloneDeep)(this.nodes)}},{key:"depthFirstSearch",value:function(t,e){var n=this;t&&(e.set(t.data,!0),t.adjacent.forEach((function(t){e.has(t.data)||n.depthFirstSearch(t,e)})))}},{key:"isConnectedGraph",value:function(){if(0===this.nodes.size)return!0;var t=new Map,e=this.nodes.get(this.nodes.entries().next().value[0]);return!!e&&(this.depthFirstSearch(e,t),t.size===this.nodes.size)}},{key:"isRedBlue",value:function(){return this._isRedBlue&&this.isConnectedGraph()}}]),t}(),p=/([^-, ][^-,])/g;function b(t){if(!t)return new j;var e=new j,n=function(t){if(!t)return{links:[],nodes:new Set};t=t.replaceAll(" ","");var e=[],n=new Set(t.split(",").reduce((function(t,n){if(!n)return t;for(var a=n.split("-").filter((function(t){return t})),r=0;r<a.length-1;r++)e=[].concat(Object(d.a)(e),[[a[r],a[r+1]]]);return[].concat(Object(d.a)(t),Object(d.a)(a))}),[]));return{links:e,nodes:n}}(t);return n.nodes.forEach((function(t){return e.addNode(t)})),n.links.forEach((function(t){e.addEdge(t[0],t[1])})),e}function v(t,e){var n,a=null===(n=t.current)||void 0===n?void 0:n.getBoundingClientRect(),r=(null===a||void 0===a?void 0:a.height)||0,i=(null===a||void 0===a?void 0:a.width)||0,c=function(t){var e=function(t){var e=new Set,n=[],a=new Map;return t.getNodes().forEach((function(t){a.set(t.data,!0),e.add({name:t.data,color:t.color}),t.adjacent.forEach((function(e){a.has(e.data)||n.push([t.data,e.data])}))})),{nodes:e,links:n}}(t);return{nodes:Array.from(e.nodes),links:e.links.map((function(t){return{target:t[0],source:t[1]}}))}}(e),o=c.links,u=c.nodes;t.current.innerHTML="";var d=s.c(u).force("link",s.a(o).id((function(t){return t.name}))).force("charge",s.b().strength(-150)).force("x",s.d()).force("y",s.e()),l=s.f(t.current).append("svg").attr("viewBox",[-i/2,-r/2,i,r]),h=l.append("g").attr("stroke","#999").attr("stroke-opacity",1).selectAll("line").data(o).join("line").attr("stroke-width",(function(t){return Math.sqrt(t.value)})),f=l.append("g").attr("stroke","#fff").attr("stroke-width",2).selectAll("circle").data(u).join("circle").attr("r",12).attr("fill",(function(t){return"RED"===t.color?"#F00":"#00F"})),j=l.append("g").attr("class","labels").selectAll("text").data(u).enter().append("text").attr("text-anchor","middle").attr("dominant-baseline","central").text((function(t){return function(t){return t.name}(t)}));return d.on("tick",(function(){h.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),f.attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})),j.attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y}))})),{destroy:function(){d.stop()},nodes:function(){return l.node()}}}var g=n(0);function x(t){var e=r.a.useRef(null),n=t.data,i=t.className;return Object(a.useEffect)((function(){var t;e.current&&n&&(t=v(e,n).destroy);return t}),[n]),Object(g.jsx)("div",{className:i,ref:e})}var O=r.a.memo(x),k=n(21);function y(t){var e=t.onChange,n=t.value,a=t.labelClass,r=t.lable;function i(t){var n=t.target.value;t.target.value=function(t){return t=t.replaceAll(/[^, ] /g,""),Object(u.replace)(t,p,(function(t,e){return t.split("").join("-")}))}(n),e&&e(t)}return Object(g.jsxs)(g.Fragment,{children:[r&&Object(g.jsx)("label",{htmlFor:"validated-input",className:a,children:r}),Object(g.jsx)("input",Object(k.a)(Object(k.a)({},t),{},{type:"text",id:"validated-input",value:n,onChange:function(t){return i(t)}}))]})}var m=n(5),C=n.n(m);function _(){var t=Object(a.useState)(""),e=Object(o.a)(t,2),n=e[0],r=e[1],i=Object(a.useState)(!0),c=Object(o.a)(i,2),s=c[0],d=c[1],l=Object(a.useState)(!0),h=Object(o.a)(l,2),f=h[0],j=h[1],p=Object(a.useState)(void 0),v=Object(o.a)(p,2),x=v[0],k=v[1],m=Object(a.useCallback)(Object(u.throttle)((function(t){var e=b(t);k(e),d(e.isConnectedGraph()),j(e.isRedBlue())}),1e3),[]);return Object(a.useEffect)((function(){return m(n),function(){}}),[n]),Object(g.jsxs)("div",{className:C.a.MainPage,children:[Object(g.jsxs)("div",{children:[Object(g.jsx)(y,{onChange:function(t){return r(t.target.value)},value:n,name:"graph-input",lable:"type your graph string (x-x-....-x, x-x-....-x, ...):",labelClass:C.a.hint,className:C.a.graphInput}),n&&Object(g.jsxs)("ul",{className:C.a.result,children:[Object(g.jsxs)("li",{children:["The Graph is:\xa0",s?"connected":"disconnected"]}),Object(g.jsxs)("li",{children:["The Graph is:\xa0",f?"red-blue":"not red-blue"]})]})]}),Object(g.jsx)(O,{data:x,className:C.a.graphContainer})]})}var w=function(){return Object(g.jsx)(_,{})},E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),a(t),r(t),i(t),c(t)}))};c.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(w,{})}),document.getElementById("root")),E()},5:function(t,e,n){t.exports={MainPage:"MainPage_MainPage__3VN5S",hint:"MainPage_hint__3JJQE",graphInput:"MainPage_graphInput__1QDwH",graphContainer:"MainPage_graphContainer__1bCBn",result:"MainPage_result__103Nb"}}},[[45,1,2]]]);
//# sourceMappingURL=main.a93ed7eb.chunk.js.map